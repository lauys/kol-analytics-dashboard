# 运行 KOL 数据采集脚本

这个脚本会从 Twitter API 采集 kol-list.csv 中所有 KOL 的数据并保存到数据库。

## 前提条件

1. 确保已经运行了所有数据库迁移脚本（001-010）
2. 确保 `TWITTER_API_KEY` 环境变量已设置
3. 确保 Supabase 环境变量已配置

## 如何运行

在 v0 界面中，找到并运行 `scripts/collect-kols-data.ts` 文件。

脚本会：
1. 逐个读取 kol-list.csv 中的用户名
2. 调用 Twitter API 获取最新数据
3. 插入或更新数据库中的 KOL 记录
4. 为每个 KOL 创建一个初始快照
5. 显示详细的处理日志和结果统计

## 注意事项

- 脚本会在每次 API 调用之间等待 2 秒，避免触发速率限制
- 处理 20 个 KOL 大约需要 40-60 秒
- 如果某个 KOL 已存在，会更新其信息并创建新快照
- 失败的 KOL 会在最后列出，可以手动重试

## 预期结果

成功后，您应该在仪表板上看到 20 个 KOL 的数据，包括：
- 粉丝数
- 关注数
- 推文数
- 24小时增长率（需要再次运行 cron 任务后才会有数据）
